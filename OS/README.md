[필요성](#필요성)

[커널](#커널)

[이중모드](#이중모드)

[시스템호출](#시스템호출)

[핵심서비스](#핵심서비스)

[pcb](#pcb)

[문맥교환](#문맥교환)

[메모리영역](#메모리영역)

[프로세스 상태](#프로세스상태)

[프로세스 생성](#프로세스생성)

[스레드](#스레드)

[스케줄링](#스케줄링)

[스케줄링 기법](#스케줄링기법)

[스케줄링 기법](#스케줄링기법)

[임계영역](#임계영역)

[동기화 기법](#동기화기법)

[교착상태](#교착상태)

[연속할당](#연속할당)

[외부단편화](#외부단편화)

[페이징](#페이징)

[스레싱](#스레싱)


### 필요성
<details>
<summary></summary>

- 자원관리를 신경쓸 필요가 없다.
- 하드웨어를 조작하는 코드를 직접 작성할 필요가 없다.
- 문제해결의 실마리

</details>

### 커널
<details>
<summary></summary>

- 운영체제 핵심 서비스를 담당하는 부분
- UI는 커널에 속하지 않지만 운영체제에는 속한다.

</details>

### 이중모드
<details>
<summary></summary>

- CPU가 명령어를 실행하는 모드
- 사용자 모드 : 커널 영역 코드 실행 불가
- 커널 모드 : 운영체제의 서비스 제공

</details>

### 시스템호출
<details>
<summary></summary>

- 소프트웨어 인터럽트
- 커널 모드로 전환하여 실행하기 위해 호출

</details>

### 핵심서비스
<details>
<summary></summary>

- 프로세스 관리
- 자원 접근 및 할당
- 파일 시스템 관리

</details>

### pcb
<details>
<summary></summary>

- 프로세스를 관리하기 위한 자료구조
- 프로세스 생성 시 커널영역에 생성

</details>


### 문맥교환
<details>
<summary></summary>

- 다른 프로세스로 실행 순서 넘어갈때 정보 백업, 복구

</details>


### 메모리영역
<details>
<summary></summary>

- 코드
  - 실행할 수 있는 코드, 기게어
  - cpu가 실행할 명령어가 담김
  - read only
- 데이터
  - 프로그램이 실행되는 동안 유지할 데이터 저장
  - ex 전역 변수
- 힙
  - 사용자가 할당할 수 있는 공간
- 스택
  - 데이터가 일시적으로 저장되는 공간
  - 매개 변수, 지역변수 

</details>

### 프로세스상태
<details>
<summary></summary>

- 생성
- 준비 : CPU 할당 X
- 실행 : CPU 할당 O
- 대기 : 요청 사건 대기
- 종료 
  

</details>

### 프로세스생성
<details>
<summary></summary>

- fork
- 생성한 쪽 부모
- 만들어진 쪽 자식
- 계층구조

</details>


### 스레드
<details>
<summary></summary>

- CPU 제어의 흐름
- 실행 단위
- 프로세스 자원 공유

</details>

### 스케줄링
<details>
<summary></summary>

- 우선순위
- 스케줄링 큐
- 준비 큐 : CPU 사용
- 대기 큐 : 입출력 장치 사용

</details>

### 스케줄링기법
<details>
<summary></summary>

- 선입 선처리 : 준비 큐에 삽입된 순서대로, 비선점
- 최단 작업 우선 : CPU사용 시간이 짧은 프로세스부터 처리
- 라운드 로빈 : 선입 선처리 + 타임 슬라이스, 순서대로 정해진 시간만
- 최소 잔여 시간 우선 : 최단 작업 우선 + 라운드로빈
- 우선순위 : 우선순위 부여하여 높은 순서로 실행,기아현상,에이징
- 다단계 큐 : 우선순위별로 준비 큐를 여러 개 사용. 큐간 프로세스는 이동불가
- 다단계 피드백 큐 : 큐간의 이동 가능

</details>

### 임계영역
<details>
<summary></summary>

- 동시에 실행하면 문제가 발생하는 자원에 접근하는 코드영역
- 레이스 컨디션 : 임계영역에 동시에 접근하면 발생하는 상황 자원의 일관성 깨진다.

  임계영역 해결책
  - 상호배제
  - 진행
  - 유한대기

</details>

### 동기화기법
<details>
<summary></summary>

- 뮤텍스
- 세마포어
- 모니터

</details>

### 교착상태
<details>
<summary></summary>

발생 이유
- 상호 배제
- 점유 대기
- 비선점
- 원형 대기

  해결 방법
  - 예방 : 발생 조건 중 하나를 없애버리기
  - 회피 : 조심조심 할당하기
  - 검출 후 회복 : 인정하고 사후에 조치하는 방식
    - 선점을 통한 회복
    - 프로세 강제 종료를 통한 회복  

</details>

### 연속할당
<details>
<summary></summary>

- 최초 적합 : 순서대로, 검색 최소화, 빠른 할당
- 최적 적합 : 빈 공간을 모두 검색, 가장 작은 공간에 할당, 외부단편화
- 최악 적합 : 빈 공간을 모두 검색, 가장 큰 공간에 할당, 외부단편화 최소화

</details>

### 외부단편화
<details>
<summary></summary>

- 빈공간의 총합만큼 프로세스 할당 불가능한 상태
- 프로세스 실행 종료 반복하며 생기는 빈공간 낭비

- 메모리압축, 페이징으로 해결

</details>

### 페이징
<details>
<summary></summary>

- 물리 주소 공간 프레임 단위로, 프로세스 논리 주소 공간을 페이지 단위로 자른뒤 페이지를 프레임에 할당

페이지 테이블
- 페이지 번호, 프레임 번호
- 유효비트
- 보호비트
- 접근비트
- 수정비트

내부 단편화
- 페이지 크기보다 작은 상황에 발생
- 외부 단편화보다 낭비의 크기가 비교적 작다

페이지 테이블 베이스 레지스터
- 각 프로세스 페이지 테이블이 적재된 주소를 가리킨다.

TLB
- 페이지 테이블의 캐시 메모리 역할 수행

페이지 폴트
- 메모리에 적재되지 않은 페이지를 참조할 경우 발생하는 인터럽트

</details>

### 스레싱
<details>
<summary></summary>

- 프로세스가 실행되는 시간보다 페이징에 더 많은 시간을 소요
- CPU이용률 낮아진다

</details>

